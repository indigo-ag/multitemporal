{
    "projname" : "mt_brazil",
    "projdir"  : "/data/brazil_crop_mask/data",
    "outdir"   : "/data/brazil_crop_mask/result",
    "dperframe": 1,
    "sources":
    [
        {
            "name"   : "evi2",
            "regexp" : "^veg_indices_evi2_modis_(\\d{8})_(\\d{1,2}_\\d{1,2}).tif$",
            "bandnum": 1,
            "scale"  : 0.0001
        },
        {
            "name"   : "mask",
            "regexp" : "^br_cropmask_(\\d{8})_(\\d{1,2}_\\d{1,2}).tif$",
            "bandnum": 1
        }
    ],
    "steps":
    [
        {
            "module" : "interpolate",
            "params" : [],
            "inputs" : "evi2",
            "output" : false
        },
        {
            "module" : "shifttime",
            "params" : [244],
            "inputs" : "interpolate",
            "output" : false
        },
        {
            "name"   : "evi_season",
            "module" : "trimyr",
            "params" : [1,1],
            "inputs" : "shifttime",
            "output" : false
        },
        {
            "name"   : "mask_season",
            "module" : "trimyr",
            "params" : [2,2],
            "inputs" : "mask",
            "output" : false
        },
        {
            "module" : "features",
            "params" : [0.5],
            "inputs" : ["evi_season", "mask_season"],
            "output" : false
        },
        {
            "name"   : "classes",
            "module" : "classify_brazil",
            "params" : [0.5],
            "inputs" : ["features"],
            "output" : true
        }
    ]
}
